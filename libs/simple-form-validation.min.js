!function(a){a.fn.simpleForm=function(b){function c(b,c){if(e.form.find(".simpleForm-container").length&&0==e.all_errors)return!1;if(e.result=!1,b.next().hasClass("simpleForm-container")===!1){var d=0,f=0;("undefined"!=typeof b.attr("simpleForm-position-top")||"undefined"!=typeof b.attr("simpleForm-position-left"))&&(d=parseInt(b.attr("simpleForm-position-top")),f=parseInt(b.attr("simpleForm-position-left")),d=isNaN(d)?0:d,f=isNaN(f)?0:f);var g=b.position().top+b.height()+10+d,h=b.position().left+f,i=a('<span class="simpleForm-container" />');i.css({left:h,top:g}),i.append(a('<span id="simpleForm-arrow" />'));var j=a('<span id="simpleForm-message" />');j.text(c),i.append(j),i.insertAfter(b),i.fadeIn("normal"),i.delay(2e3).fadeOut("slow",function(){i.remove()})}}function d(a,b){var d="";if(a.attr("name")){var f=a.attr("name");e.data.push(f+"|"+b)}if("undefined"!=typeof a.attr("simpleForm-required")&&""==b&&(d=a.attr("required-message")?a.attr("required-message"):"This field is required.",c(a,d)),"undefined"!=typeof a.attr("simpleForm-number")&&(/^[0-9]*$/.test(b)?0==b.substr(0,1)&&(d='Number must not begin with "0"',c(a,d)):(d=a.attr("number-message")?a.attr("number-message"):"Number only.",c(a,d))),a.attr("simpleForm-minlength")&&b.length>0&&b.length<a.attr("simpleForm-minlength")&&(d=a.attr("minlength-message")?a.attr("minlength-message"):"Field must have a minimum of "+a.attr("simpleForm-minlength")+" characters",c(a,d)),a.attr("simpleForm-maxlength")&&b.length>a.attr("simpleForm-maxlength")&&(d=a.attr("maxlength-message")?a.attr("maxlength-message"):"Field must have a maximum of "+a.attr("simpleForm-maxlength")+" characters long",c(a,d)),"undefined"!=typeof a.attr("simpleForm-email")){msg=a.attr("email-message")?a.attr("email-message"):"Email is invalid";var g=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);g.test(b)===!1&&c(a,msg)}}var e=a.extend({obj:this,result:!0,form:a(this.closest("form")),all_errors:!1,get_data:!1,data:[]},b);if(e.form.find(".simpleForm-container").length&&e.form.find(".simpleForm-container").remove(),a.each(e.form.children(),function(b,c){var f=a(c).find("input, textarea, select");if(f.length){var g=a.trim(f.val());"radio"===f.attr("type")||"checkbox"===f.attr("type")?(g="",f.closest(".simpleForm-group").length?(a.each(f,function(a,b){b.checked&&(g=b.value)}),e.data.push(f.attr("name")+"|"+g),f=f.closest(".simpleForm-group"),d(f,g)):a.each(f,function(b,c){g="",f=a(c),c.checked&&(g=c.value),d(f,g)})):d(f,g)}else{var f=a(c),h=["input","textarea","select"],i=f.prop("tagName").toLowerCase(),g=a.trim(f.val());-1!=a.inArray(i,h)&&(("radio"===f.attr("type")||"checkbox"===f.attr("type"))&&(g="",f[0].checked&&(g=f.val())),d(f,g))}}),1==e.get_data&&1==e.result){var f="{";return a.each(e.data,function(a,b){var c=b.split("|");f+='"'+c[0]+'":"'+c[1]+'",'}),f=f.substr(0,f.length-1)+"}",f=a.parseJSON(f)}return e.result}}(jQuery);